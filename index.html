<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Mutlu YÄ±llar 2026 â€” Emlak Grubu</title>

  <!-- GÃ–RÃœNMEYEN VERSÄ°YON KONTROLÃœ -->
  <script>
  (function(){
    const KEY="page_v_final2";
    const url=new URL(window.location.href);
    const v=url.searchParams.get("v");
    const saved=sessionStorage.getItem(KEY);
    if(!v || v!==saved){
      const newV=Date.now().toString();
      sessionStorage.setItem(KEY,newV);
      const clean=location.origin+location.pathname;
      location.href=clean+"?v="+newV;
    }
  })();
  </script>

  <style>
    html,body{
      height:100%;margin:0;
      background:radial-gradient(ellipse at bottom,#0f1720 0%,#020307 80%);
      font-family:Arial,sans-serif;color:#fff;
      overflow:hidden;
    }
    #snowCanvas,#fireworksCanvas{
      position:fixed;left:0;top:0;width:100vw;height:100vh;
      pointer-events:none;
    }

    .title-wrap{
      position:fixed;top:40px;width:100%;text-align:center;z-index:30;
    }
    h1{color:#ffd24c;margin:0;font-size:2.2rem;text-shadow:0 0 12px #000}
    h2{margin:6px 0 0;opacity:.9;font-size:1rem;letter-spacing:1.5px}

    .panel{
      position:fixed;bottom:18px;left:50%;
      transform:translateX(-50%);
      display:flex;gap:10px;z-index:50;
    }
    button{
      padding:10px 16px;border:none;
      border-radius:10px;cursor:pointer;
      color:#fff;background:#ffffff18;
      backdrop-filter:blur(4px);
      border:1px solid #ffffff22;
    }

    .footer{
      position:fixed;
      bottom:60px;
      left:50%;
      transform:translateX(-50%);
      background:#00000066;
      padding:6px 12px;
      border-radius:8px;
      font-size:14px;
      backdrop-filter:blur(4px);
      z-index:40;
      white-space:nowrap;
    }
  </style>
</head>
<body>

<div class="title-wrap">
  <h1>Mutlu YÄ±llar 2026 ðŸŽ†</h1>
  <h2>MUTLU YILLAR EMLAK GRUBU</h2>
</div>

<canvas id="snowCanvas"></canvas>
<canvas id="fireworksCanvas"></canvas>

<div class="footer">Bu sayfa: Kemalettin Duyar tarafÄ±ndan hazÄ±rlanmÄ±ÅŸtÄ±r.</div>

<div class="panel">
  <button id="soundBtn">ðŸ”‡ Ses KapalÄ±</button>
  <button id="startBtn">ðŸŽ† KutlamayÄ± BaÅŸlat</button>
</div>

<!-- SESLER -->
<audio id="bgMusic" loop preload="auto"
src="https://cdn.pixabay.com/download/audio/2022/03/01/audio_11ac392cda.mp3?filename=new-year-party-10980.mp3"></audio>

<audio id="launchSnd" preload="auto"
src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_63aebaa9d8.mp3?filename=launch-rocket-113177.mp3"></audio>

<audio id="explodeSnd" preload="auto"
src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_49709c8a31.mp3?filename=firework-1-113172.mp3"></audio>

<script>
/* ------------------ CANVAS ------------------ */
const snowCanvas=document.getElementById("snowCanvas");
const snowCtx=snowCanvas.getContext("2d");
const fwCanvas=document.getElementById("fireworksCanvas");
const fwCtx=fwCanvas.getContext("2d");

function resizeAll(){
  snowCanvas.width=innerWidth;
  snowCanvas.height=innerHeight;
  fwCanvas.width=innerWidth;
  fwCanvas.height=innerHeight;
}
resizeAll();
addEventListener("resize",resizeAll);

/* ------------------ KAR YAÄžIÅžI ------------------ */
let flakes=[];
for(let i=0;i<240;i++){
  flakes.push({
    x:Math.random()*innerWidth,
    y:Math.random()*innerHeight,
    r:1+Math.random()*3,
    vy:1+Math.random()*2,
    vx:(Math.random()-0.5)*0.6
  });
}

function drawSnow(){
  snowCtx.clearRect(0,0,snowCanvas.width,snowCanvas.height);
  snowCtx.fillStyle="rgba(255,255,255,0.9)";
  snowCtx.beginPath();

  for(const f of flakes){
    snowCtx.moveTo(f.x,f.y);
    snowCtx.arc(f.x,f.y,f.r,0,Math.PI*2);
  }
  snowCtx.fill();

  for(const f of flakes){
    f.x+=f.vx+Math.sin(f.y/50)*0.4;
    f.y+=f.vy;

    if(f.y>innerHeight){ f.y=-5; f.x=Math.random()*innerWidth; }
  }
}
setInterval(drawSnow,28);

/* ------------------ HAVAÄ° FÄ°ÅžEK ------------------ */
let rockets=[],particles=[];

function launchRocket(){
  rockets.push({
    x:Math.random()*fwCanvas.width,
    y:fwCanvas.height+20,
    targetY:80+Math.random()*fwCanvas.height*0.5,
    speed:6+Math.random()*3
  });
}

function explode(x,y){
  const colors=["#ff4d4d","#ffd11a","#66ff66","#66b3ff","#ff66cc","#ffffff"];
  for(let i=0;i<60;i++){
    const a=Math.random()*Math.PI*2;
    const s=2+Math.random()*4;
    particles.push({
      x,y,vx:Math.cos(a)*s,vy:Math.sin(a)*s,
      life:60,age:0,color:colors[Math.floor(Math.random()*colors.length)]
    });
  }
}

function drawFW(){
  fwCtx.clearRect(0,0,fwCanvas.width,fwCanvas.height);

  for(let i=rockets.length-1;i>=0;i--){
    const r=rockets[i];
    r.y-=r.speed;
    fwCtx.fillStyle="#fff";
    fwCtx.fillRect(r.x,r.y,3,8);

    if(r.y<=r.targetY){
      explode(r.x,r.y);
      rockets.splice(i,1);
      if(soundEnabled){ explodeSnd.currentTime=0; explodeSnd.play().catch(()=>{}); }
    }
  }

  for(let i=particles.length-1;i>=0;i--){
    const p=particles[i];
    p.vy+=0.03;
    p.x+=p.vx;
    p.y+=p.vy;
    p.age++;

    const alpha=1-p.age/p.life;
    fwCtx.fillStyle=`rgba(255,255,255,${alpha})`;
    fwCtx.fillRect(p.x,p.y,2,2);

    if(p.age>=p.life) particles.splice(i,1);
  }

  requestAnimationFrame(drawFW);
}
drawFW();

/* ------------------ SES ------------------ */
let soundEnabled=false;
const bg=document.getElementById("bgMusic");
const soundBtn=document.getElementById("soundBtn");

/* Chrome autoplay engeli iÃ§in unlock */
function unlockSound(){
  bg.play().then(()=>{ bg.pause(); bg.currentTime=0; }).catch(()=>{});
}

soundBtn.onclick=()=>{
  unlockSound();
  soundEnabled=!soundEnabled;
  soundBtn.innerText=soundEnabled?"ðŸ”Š Ses AÃ§Ä±k":"ðŸ”‡ Ses KapalÄ±";

  if(soundEnabled){
    bg.currentTime=0;
    bg.play().catch(()=>{});
  } else {
    bg.pause();
  }
};

document.getElementById("startBtn").onclick=()=>{
  unlockSound();

  if(soundEnabled){
    launchSnd.currentTime=0;
    launchSnd.play().catch(()=>{});
  }

  launchRocket();
  setInterval(launchRocket,650);
};
</script>

</body>
</html>
